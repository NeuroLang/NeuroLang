<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/inr_logo_grisbleu.svg" />
  <link rel="stylesheet" type="text/css" href="/papaya.css?build=1453" />
  <link rel="stylesheet" type="text/css" href="/node_modules/semantic-ui-css/semantic.min.css" />
  <link rel="stylesheet" type="text/css" href="/node_modules/datatables.net-se/css/dataTables.semanticui.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Neurolang Web Application</title>
</head>

<body>

  <!-- Top Menu -->
  <div class="ui borderless large main menu">
    <div class="ui container">
      <div class="header item">
        <img class="logo" src="/inr_logo_grisbleu.svg">
        Neurolang
      </div>
      <a href="#" class="item">About</a>
      <div href="#" class="ui dropdown item">
        Dataset <i class="dropdown icon"></i>
        <div class="menu nl-dataset-dropdown">
          <a class="item" href="/neurosynth" data-link>Neurosynth</a>
          <a class="item" href="/destrieux" data-link>
            <i class="dropdown icon"></i>
            Destrieux
            <div class="menu">
              <div class="item">Example 1</div>
              <div class="item">Example 2</div>
            </div>
          </a>
        </div>
      </div>
      <a href="#" class="ui right floated item">
        <i class="github icon"></i>
      </a>
    </div>
  </div>

  <!-- Query input container -->
  <div id="queryContainer" class="ui grid container">
    <div class="sixteen wide column">
      <div class="ui raised segment query-segment">
        <div class="ui top attached label">Write your query on neurological data</div>
        <div class="code-mirror-container">
          <!-- <textarea class="ui input" id="queryTextArea">union(region_union(r)) :- destrieux(..., r)</textarea> -->
          
          <textarea class="ui input" id="queryTextArea">
TermInStudy(term, study) :: tfidf :- TermInStudyTFIDF(term, tfidf, study)
TermAssociation(term) :- SelectedStudy(study) & TermInStudy(term, study)
Activation(i, j, k) :- SelectedStudy(s) & PeakReported(i, j, k, s)
ActivationGivenTerm(i, j, k, PROB) :- Activation(i, j, k) // TermAssociation("emotion")
ActivationGivenTermImage(agg_create_region_overlay(i, j, k, p)) :- ActivationGivenTerm(i, j, k, p)</textarea>
        </div>
      </div>
    </div>

    <div class="two wide column">
      <button type="button" class="ui button" id="runQueryBtn">Run query</button>
      
    </div>

    <div class="fourteen wide column">
      <div class="ui message nl-query-alert" id="queryAlert">
          <div class="header nl-query-header">
          </div>
          <p class="nl-query-message"></p>
          <pre class="nl-query-help"></pre>
      </div>
    </div>
  </div>

  <!-- Symbols container -->
  <div class="ui container nl-symbols-viewer-container">
    <div id="symbolsContainer" class="nl-symbols-container">
      <div class="ui raised segments">
        <div class="ui label segment secondary">
          <span class="text">Select a symbol to explore</span>
          <div class="ui search selection dropdown nl-symbols-dropdown">
            <input type="hidden" name="symbol">
            <i class="dropdown icon"></i>
            <div class="default text">Select Symbol</div>
            <div class="menu">
            </div>
          </div>
        </div>
        <div class="ui  segment">
          <table class='ui compact striped table nl-symbols-table' id='tabTable' width="100%"></table>
          <div class="ui message nl-functions-msg" id="queryAlert">
            <div class="header nl-functions-header">
            </div>
            <p class="nl-functions-message"></p>
            <pre class="nl-functions-help"></pre>
        </div>
        </div>
      </div>
    </div>

    <div id="nlPapayaContainer" class="nl-papaya-container">
      <div id="nlPapayaParent" class="nl-papaya-parent"></div>
      
      <div class="ui message warning nl-papaya-alert">
        <div class="header">You cannot add more than 8 overlays</div>
        <p>Please unselect an overlay to add a new one</p>
      </div>
      
    </div>
  </div>



  <!-- papaya is vendored as it is not packaged for npm -->
  <script type="text/javascript" src="/papaya.js?build=1453"></script>
  <!-- papaya should load before our main.js script as it defines globals -->
  <script type="module" src="/main.js"></script>
</body>

</html>